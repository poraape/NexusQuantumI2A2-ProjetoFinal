# B3 — Mock Tools e Feature Flags

## Objetivo
Permitir a execução segura dos agentes em ambiente controlado utilizando mocks e
feature flags sem alterar o comportamento da UI existente.

## Entregáveis
- `config/flags.json` com toggles para ativação seletiva dos agentes mock.
- `mocks/mockGemini.ts` e `mocks/mockCNPJ.ts` reproduzindo respostas previsíveis.
- Instruções de execução cruzada (flags on/off) documentadas neste arquivo.

## Estratégia
- Feature flags carregadas no bootstrap do frontend ou BFF, com fallback `false`.
- Mocks encapsulam latência simulada e respostas determinísticas para permitir
  testes de regressão.
- Flags adicionais poderão ser incluídas sem quebrar compatibilidade através do
  campo `metadata`.

## Execução
1. Ajuste `config/flags.json` conforme o ambiente.
2. Utilize `mocks/index.ts` para resolver mocks dinamicamente com base nas
   flags.
3. Ative os mocks em desenvolvimento para validar os planos de orquestração
   antes de conectar com serviços reais.

## Próximos Passos
- Integrar as flags ao sistema de configuração central (ex: ConfigCat/LaunchDarkly
  self-hosted) durante a Fase D.
- Conectar `mockGemini` aos testes de caracterização existentes.
