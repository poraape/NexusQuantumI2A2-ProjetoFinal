# B2 — Contratos de Mensageria

## Objetivo
Versionar os contratos de eventos e intents que trafegam no event bus, alinhados
à arquitetura alvo com ports/adapters.

## Entregáveis
- `schemas/msg/1.0.0/*.json` descrevendo intents, planos e telemetria.
- `adapters/eventBusAdapter.ts` e `adapters/plannerAdapter.ts` com as interfaces
  ports/adapters.
- `docs/phaseB/B2.md` (este arquivo) consolidando decisões.

## Diretrizes de Uso
- Cada mensagem possui cabeçalhos padronizados (`traceId`, `agentId`,
  `causationId`) e payload com versionamento semântico.
- Schemas suportam evolução compatível via campos opcionais; alterações breaking
  requerem nova pasta de versão (`2.0.0`).
- Adaptadores expõem operações idempotentes e aplicam validação automática dos
  schemas JSON antes do publish.

## Próximos Passos
- Implementar validação em runtime utilizando AJV/Zod no BFF.
- Integrar os adaptadores ao pipeline de testes de integração (Fase D).
