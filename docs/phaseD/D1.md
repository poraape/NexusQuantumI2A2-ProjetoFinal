# D1 — Testes Multiagente e SLOs

## Objetivo
Construir suites E2E e simulações multiagente monitorando SLOs `{KPI}` definidos em `validation_criteria`.

## Entradas
- SLOs em `dashboards/agent-health.json`
- Cenários E2E `tests/e2e/*.spec.mjs`
- Dados de carga `tests/perf/loadtest.yaml`

## Passos
1. Implementar testes E2E usando Playwright/WS para validar fluxo UI ↔ planner.
2. Adicionar simulações multiagente em `tests/e2e/simulations/` com topologias declaradas.
3. Instrumentar coleta automática de métricas (latência, erro) e enviar para Prometheus.
4. Atualizar dashboards `agent-health.json` e `cost-usage.json` com painéis de SLO.
5. Rodar suíte diariamente em CI e registrar resultado em `reports/weekly/`.

## Saídas
- `tests/e2e/dashboard.spec.mjs`, `tests/e2e/chat.spec.mjs`
- `dashboards/agent-health.json` com painéis SLO
- Registro em `reports/weekly/{date}.md`

## Critérios de Aceitação
- Todos os SLOs cumpridos por 7 dias consecutivos.
- Falhas geram tickets automáticos documentados.
- Dashboards publicados e vinculados ao runbook.
