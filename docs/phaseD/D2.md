# D2 — Segurança, Auditoria e Explainability

## Objetivo
Aplicar políticas de least-privilege, auditoria detalhada e explicabilidade por agente.

## Entradas
- Políticas base `policy.yaml`
- Templates `security/policies.yaml`, `audits/`
- Logs estruturados `telemetry/traces.json`

## Passos
1. Atualizar `security/policies.yaml` com escopos por agente (read/write) e limites de cota.
2. Criar pipeline de auditoria gerando `audits/{date}-trail.ndjson` com rationale e referências.
3. Integrar explicações no `agent.output` (campo `rationale` obrigatório).
4. Configurar alertas de violação em `alerts/security.yaml`.
5. Validar compliance via `tests/security/chaos.json` simulando abuso de permissão.

## Saídas
- `security/policies.yaml`
- `audits/README.md` + arquivos `.ndjson`
- Alertas em `alerts/security.yaml`

## Critérios de Aceitação
- Nenhum agente possui permissões desnecessárias.
- Auditoria reproduz fluxo completo por 30 dias.
- Explainability disponível via dashboards.
