# C1 — Profiling e Hotspots

## Objetivo
Executar profiling de CPU, memória e I/O para identificar gargalos no pipeline atual e estabelecer baseline de {KPI}.

## Entradas
- Workloads representativos: `{SCENARIO_1}`, `{SCENARIO_2}`
- Scripts de profiling (`scripts/profiling/run.sh`)
- Métricas existentes (`metrics/base.prom`)

## Procedimento
1. Executar `scripts/profiling/run.sh --scenario {SCENARIO_1}` e `{SCENARIO_2}`.
2. Coletar flamegraphs gerados em `artifacts/profiling/`.
3. Registrar top-10 hotspots com impacto em P95 e alocação de memória.
4. Aplicar estratégias de caching/batching conforme `cache/policy.md`.
5. Reexecutar profiling e comparar impacto no {KPI}.

## Saídas
- `artifacts/profiling/{timestamp}-hotspots.md`
- `benchmarks/perf/{SCENARIO}/before.json` e `after.json`
- Atualização do painel `dashboards/agent-health.json`

## Critérios de Aceitação
- Redução de ≥30% na latência P95 em pelo menos um cenário.
- Ausência de regressão na taxa de erro.
- Relatório `docs/phaseC/C1-report.md` anexado ao repositório.
