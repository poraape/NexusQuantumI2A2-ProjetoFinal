# E3 — Gestão de Versões de Contratos

## Objetivo
Automatizar versionamento semântico de schemas e APIs preservando compatibilidade reversa.

## Entradas
- `contracts/CHANGELOG.md`
- `schemas/msg/`
- `openapi.yaml`

## Passos
1. Atualizar `contracts/CHANGELOG.md` a cada mudança de schema.
2. Executar `tests/compatibility.spec.mjs` e `tests/model_regression.spec.mjs` em CI.
3. Publicar versões usando tags git e releases automatizados.
4. Comunicar depreciações com pelo menos 2 ciclos de antecedência.

## Saídas
- `contracts/CHANGELOG.md`
- Pipeline CI com gate de compatibilidade.
- Documentação de migrações (`migration/`).

## Critérios de Aceitação
- Mudanças breaking exigem bump major e feature flag.
- Consumidores externos recebem notificações automáticas.
- Logs de compatibilidade armazenados por 1 ano.
